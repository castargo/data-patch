# Shell cheat sheets

## Горячие клавиши
* ```Ctrl + Alt + T``` - открыть консоль
* ```Ctrl + Shift + T``` - новая вкладка в терминале
* ```Ctrl + Shift + C / V``` - работа с текстом в терминале
* ```Ctrl + H``` - показать / скрыть скрытые файлы
* ```Ctrl + R``` - поиск по ранее выполненным командам
* ```Alt + <TAB>``` - переключение между открытыми приложениями
* ```Ctrl + <TAB>``` - переключение по вкладкам браузера

## UNIX
* 1983 - Ричард Стокман анонсировал GNU
* 1991 - Линус Торвальд зарелизил первую версию ядра Linux Kernel

Linux - это **ядро**

Дистрибутив - это ОС, включающая в себя:
* Ядро Linux
* Библиотеки и утилиты
* Приложения
* Программы для установки и конфигурационные файлы системы

## Оболочка Linux
Shell (терминал, консоль, командная строка) - командная оболочка - программа, которая принимает команды, введенные с клавиатуры, и передает их ОС для выполнения.

На Linux, по умолчанию, язык оболочки называется BASH (Bourne Again Shell или улучшенный sh - первоначальная командная оболочка для Unix).
Bash - командная оболочка из проекта GNU.

Gnome-terminal или просто terminal - эмулятор терминала для взаимодействия пользователя с командной оболочкой.
* ```$``` - shell prompt - приглашение к вводу
* ```#``` - сеанс суперпользователя (sudo)
* ```exit``` - выход из терминала

**Структура команды:** ```<команда> -<ключ> <значение>```

* ```man <команда>``` - мануал (справочное руководство) по команде
* ```<команда> --help``` - вывод инструкции по использованию
* ```help <команда>``` - справка по команде
* ```time <команда>``` - исполнить команду и составить статистику о том, сколько времени потрачено на исполнение
* ```htop``` - диспетчер задач
* ```clear``` - очистка экрана
* ```history``` - выводит содержимое истории команд
  * ```history | less```
  * ```history | grep /user/bin```
* ```type <команда>``` - получение типа команды
* ```which``` - определение местоположения выполняемого файла

## Вывод информации о системе
* ```whoami``` - имя пользователя
* ```uptime``` - состояние системы
* ```uname -a``` - информация о ядре ОС
* ```lsb_release -a``` - информация об ОС
* ```yelp``` - руководство пользователя Ubuntu
* ```free``` - объем памяти и ее использование
* ```df``` - объем свободного пространства на дисках
* ```sudo dmidecode``` - вывод информации об аппаратном обеспечении
* ```sudo lshw -C```
* ```du -ha``` - показать размер на диске для директорий и их содержимого

## Остановка системы
* ```halt``` - остановить
* ```poweroff``` - выключить питание
* ```reboot``` - перезагрузить
* ```shutdown``` - объединение первых трех + можно указать время:
  * ```sudo shutdown -h now``` - остановка
  * ```sudo shutdown -r now``` - перезагрузка

## Привилегии
[Chmod Calculator](https://chmodcommand.com/)

Unix - многопользовательская ОС. Пользователи могут объединяться в группы.

```id``` - выводит информацию об идентичности пользователя (uid, grid, groups)

Права доступа к файлам и каталогам определяются в терминах прав на чтение, запись и выполнения:
```
ls -l foo.txt
# -rw-rw-r--  1  me  me  0  2018-03-06  14:52  foo.txt
```

<p align="center">
  <img width="400" src="pictures/chmod.png"/>
</p>

**chmod** - изменяет режим доступа к файлу

```
./my_scr.sh
# Permition denied

# Тогда:
chmod +x my_scr.sh
./my_sch.sh 
```

chmod также поддерживает символическую форму определения режимов доступа к файлу. Символическая форма записи делится на 3 части:
* для кого устанавливается разрешения
* какие операции с разрешениями будут выполняться
* на какие разрешения эти операции будут влиять

**umask** - определение разрешения доступа к файлам по умолчанию, которые устанавливаются для файла при его создании.

**chown** - изменение владельца и группы файла

**chown** - изменение группы файла

## Изменение идентичности

```passwd``` - изменение пароля пользователя

Есть 3 способа изменения идентичности пользователя:
1. Выйти из системы и войти с учетными данными другого пользователя.
2. Воспользоваться командой **su**.
3. Воспользоваться командой **sudo**.

**su** - запускает командную оболочку от имени другого пользователя.
* ```su [- [|]] <пользователь>```
* ```su -``` - суперпользователь
* ```su -с <команда>```

**sudo** - запускает командную оболочку от имени суперпользователя.
* ```sudo <команда>```
* sudo не запускает новую командную оболочку и не загружает окружение другого пользователя
* ```sudo -l``` - показывает, какие привилегии дает команда sudo

## Соответствие консольных команд Windows и Linux

[Сответствие консольных команд Windows и Linux](https://white55.ru/cmd-sh.html)
